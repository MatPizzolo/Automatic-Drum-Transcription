# ---- Database ----
POSTGRES_USER=drumscribe
POSTGRES_PASSWORD=drumscribe
POSTGRES_DB=drumscribe
POSTGRES_PORT=5432

# ---- Redis ----
REDIS_PORT=6379

# ---- API ----
API_PORT=8000
CORS_ORIGINS=["http://localhost:3000"]
LOG_LEVEL=INFO
MAX_FILE_SIZE_MB=50
MAX_CONCURRENT_JOBS_PER_USER=3
ARTIFACT_TTL_HOURS=24

# ---- Model Management ----
# Local dev: relative path to .h5 file
# Production: use HTTPS or S3 URI â€” workers auto-download on first start
MODEL_URI=inference/pretrained_models/annoteators/complete_network.h5
# MODEL_URI=https://your-bucket.s3.amazonaws.com/models/v1.0.0/complete_network.h5
# MODEL_URI=s3://drumscribe-models/v1.0.0/complete_network.h5
MODEL_VERSION=v1.0.0
MODEL_CACHE_DIR=/data/models
# Optional: SHA256 checksum for integrity verification after download
MODEL_SHA256=

# ---- Storage Backend ----
# "local" for dev (shared Docker volume), "s3" for production (PaaS-compatible)
STORAGE_BACKEND=local
# S3 settings (only used when STORAGE_BACKEND=s3)
# S3_BUCKET=drumscribe-artifacts
# S3_PREFIX=artifacts
# S3_REGION=us-east-1
# S3_ENDPOINT_URL=  # For Cloudflare R2: https://<account>.r2.cloudflarestorage.com

# ---- PDF Export ----
# "lilypond" (headless, recommended), "musescore" (needs xvfb), or "none"
PDF_BACKEND=lilypond

# ---- Frontend ----
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8000
